<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    浏览器允许脚本异步加载，下面就是两种异步加载的语法。

    <script src="path/to/myModule.js" defer></script>
    <script src="path/to/myModule.js" async></script>

    defer与async的区别是：defer要等到整个页面在内存中正常渲染结束（DOM
    结构完全生成，以及其他脚本执行完成），才会执行；async一旦下载完，
    渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染。一句话，defer是“渲染完再执行”，async是“下载完就执行”。


    加载规则
    浏览器加载 ES6 模块，也使用script标签， 但是要加入type = "module"属性。
    浏览器对于带有type="module"的script，都是异步加载， 不会造成堵塞浏览器，即等到整个页面渲染完，再执行模块脚本,等同于打开script标签的defer属性。
    <script type="module" src="./foo.js"></script>


    ES6 模块也允许内嵌在网页中，语法行为与加载外部脚本完全一致。
    <script type="module">
        import utils from "./utils.js";

  // other code
</script>
</body>

</html>