<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
装饰器
Decorator 提案经过了大幅修改，目前还没有定案，不知道语法会不会再变。下面的内容完全依据以前的提案，已经有点过时了。等待定案以后，需要完全重写。

装饰器(Decorator)是一种与类(Class)相关的语法,用来注释或修改类和类方法.

许多面向对象的语言都有这项功能，目前有一个提案将其引入了 ECMAScript。

装饰器是一种函数,写成@+函数名,它可以放在类和类方法的定义前面

装饰器只能用于类和类的方法，不能用于函数，因为存在函数提升。

<body>
    <script type=''>
        @frozen class Foo {
            @configurable(false)
            @enumerable(true)
            method() {}

            @throttle(500)
            expensiveMethod() {}
        }
        //上面代码一共使用了四个装饰器，一个用在类本身，另外三个用在类方法。它们不仅增加了代码的可读性，清晰地表达了意图，而且提供一种方便的手段，增加或修改类的功能。
    </script>

    类的装饰
    装饰器可以用来装饰整个类
    <script type=''>
        @testable
        class MyTestableClass {

        }

        function testable(target) {
            target.isTestable = true;
        }

        MyTestableClass.isTestable; //true
    </script>
    上面代码中，@testable就是一个装饰器。它修改了MyTestableClass这个类的行为，为它加上了静态属性isTestable。testable函数的参数target是MyTestableClass类本身。

    <script type=''>
        @decorator
        class A {}

        // 等同于

        class A {}
        A = decorator(A) || A;
    </script>
</body>

</html>